{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./extras/index.js","webpack:///./extras/mini-stats/cpu-timer.js","webpack:///./extras/mini-stats/gpu-timer.js","webpack:///./extras/mini-stats/graph.js","webpack:///./extras/mini-stats/mini-stats.js","webpack:///./extras/mini-stats/render2d.js","webpack:///./extras/mini-stats/stats-timer.js","webpack:///./extras/mini-stats/word-atlas.js"],"names":["window","pcx","MiniStats","CpuTimer","app","_frameIndex","_frameTimings","_timings","_prevTimings","unitsName","decimalPlaces","enabled","on","begin","bind","mark","name","length","splice","tmp","timestamp","pc","now","prev","push","timing","slice","map","v","GpuTimer","_gl","graphicsDevice","gl","_ext","extDisjointTimerQuery","_freeQueries","_frameQueries","_frames","end","_checkDisjoint","_resolveFrameTimings","concat","endQuery","TIME_ELAPSED_EXT","query","_allocateQuery","beginQuery","disjoint","getParameter","GPU_DISJOINT_EXT","flat","createQuery","frame","timings","getQueryParameter","QUERY_RESULT_AVAILABLE","i","QUERY_RESULT","Graph","watermark","textRefreshRate","timer","device","avgTotal","avgTimer","avgCount","timingText","texture","yOffset","cursor","sample","Uint8ClampedArray","set","update","counter","loseContext","ms","total","reduce","a","toFixed","value","range","Math","floor","bindTexture","texSubImage2D","TEXTURE_2D","RGBA","UNSIGNED_BYTE","width","render2d","x","y","w","h","quad","options","_contextLostHandler","event","preventDefault","graphs","canvas","addEventListener","getDefaultOptions","initGraphs","words","forEach","graph","stats","stat","filter","item","index","indexOf","maxWidth","sizes","max","wordAtlasData","initWordAtlas","_activeSizeIndex","startSizeIndex","self","div","document","createElement","style","cssText","body","appendChild","opacity","_enabled","activeSizeIndex","resize","height","updateDiv","render","wordAtlas","atlas","Render2d","colors","gspacing","clr","spacing","numGraphs","Texture","math","nextPowerOfTwo","mipmaps","minFilter","FILTER_NEAREST","magFilter","WordAtlas","dest","lock","unlock","setTexture","cpu","gpu","entry","StatsTimer","multiplier","j","showGraphs","rect","getBoundingClientRect","left","bottom","innerHeight","overallHeight","graph0","Color","graph1","graph2","background","maxQuads","vertexShader","fragmentShader","format","VertexFormat","semantic","SEMANTIC_POSITION","components","type","TYPE_FLOAT32","SEMANTIC_TEXCOORD0","indices","Uint16Array","shader","shaderChunks","createShaderFromCode","buffer","VertexBuffer","BUFFER_STREAM","data","Float32Array","numBytes","indexBuffer","IndexBuffer","INDEXFORMAT_UINT16","BUFFER_STATIC","prims","prim","primIndex","quads","setupColor","r","g","b","scope","resolve","watermarkSizeId","clrId","screenTextureSizeId","screenTextureSize","u","uw","uh","count","PRIMITIVE_TRIANGLES","indexed","base","x1","y1","u1","undefined","v1","colorize","setData","updateBegin","setDepthTest","setDepthWrite","setCullMode","CULLFACE_NONE","setBlending","setBlendFunctionSeparate","BLENDMODE_SRC_ALPHA","BLENDMODE_ONE_MINUS_SRC_ALPHA","BLENDMODE_ONE","setBlendEquationSeparate","BLENDEQUATION_ADD","setVertexBuffer","setIndexBuffer","setShader","pr","min","maxPixelRatio","devicePixelRatio","setValue","col0Id","col0","col1Id","col1","col2Id","col2","watermarkId","backgroundId","constantTexSource","draw","updateEnd","statNames","values","path","obj","split","curr","context","getContext","alpha","font","textAlign","textBaseline","fillStyle","padding","placements","measurement","measureText","l","ceil","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","d","actualBoundingBoxDescent","fillText","wordMap","source","getImageData","red","offset","word","p"],"mappings":"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","file":"playcanvas-extras.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./extras/index.js\");\n","import { MiniStats } from './mini-stats/mini-stats.js';\nwindow.pcx = {\n  MiniStats\n}\n","class CpuTimer {\n    constructor(app) {\n        this._frameIndex = 0;\n        this._frameTimings = [];\n        this._timings = [];\n        this._prevTimings = [];\n        this.unitsName = \"ms\";\n        this.decimalPlaces = 1;\n\n        this.enabled = true;\n\n        app.on('frameupdate', this.begin.bind(this, 'update'));\n        app.on('framerender', this.mark.bind(this, 'render'));\n        app.on('frameend', this.mark.bind(this, 'other'));\n    }\n\n    // mark the beginning of the frame\n    begin(name) {\n        if (!this.enabled) {\n            return;\n        }\n\n        // end previous frame timings\n        if (this._frameIndex < this._frameTimings.length) {\n            this._frameTimings.splice(this._frameIndex);\n        }\n        var tmp = this._prevTimings;\n        this._prevTimings = this._timings;\n        this._timings = this._frameTimings;\n        this._frameTimings = tmp;\n        this._frameIndex = 0;\n\n        this.mark(name);\n    }\n\n    // mark\n    mark(name) {\n        if (!this.enabled) {\n            return;\n        }\n\n        var timestamp = pc.now();\n\n        // end previous mark\n        var prev;\n        if (this._frameIndex > 0) {\n            prev = this._frameTimings[this._frameIndex - 1];\n            prev[1] = timestamp - prev[1];\n        } else if (this._timings.length > 0) {\n            prev = this._timings[this._timings.length - 1];\n            prev[1] = timestamp - prev[1];\n        }\n\n        if (this._frameIndex >= this._frameTimings.length) {\n            this._frameTimings.push([name, timestamp]);\n        } else {\n            var timing = this._frameTimings[this._frameIndex];\n            timing[0] = name;\n            timing[1] = timestamp;\n        }\n        this._frameIndex++;\n    }\n\n    get timings() {\n        // remove the last time point from the list (which is the time spent outside\n        // of playcanvas)\n        return this._timings.slice(0, -1).map(function (v) {\n            return v[1];\n        });\n    }\n}\n\nexport { CpuTimer };\n","class GpuTimer {\n    constructor(app) {\n        this._gl = app.graphicsDevice.gl;\n        this._ext = app.graphicsDevice.extDisjointTimerQuery;\n\n        this._freeQueries = [];                     // pool of free queries\n        this._frameQueries = [];                    // current frame's queries\n        this._frames = [];                          // list of previous frame queries\n\n        this._timings = [];\n        this._prevTimings = [];\n\n        this.enabled = true;\n        this.unitsName = \"ms\";\n        this.decimalPlaces = 1;\n\n        app.on('frameupdate', this.begin.bind(this, 'update'));\n        app.on('framerender', this.mark.bind(this, 'render'));\n        app.on('frameend', this.end.bind(this));\n    }\n\n    // called when context was lost, function releases all context related resources\n    loseContext() {\n        this._freeQueries = [];                     // pool of free queries\n        this._frameQueries = [];                    // current frame's queries\n        this._frames = [];                          // list of previous frame queries\n    }\n\n    // mark the beginning of the frame\n    begin(name) {\n        if (!this.enabled) {\n            return;\n        }\n\n        // store previous frame's queries\n        if (this._frameQueries.length > 0) {\n            this.end();\n        }\n\n        // check if all in-flight queries have been invalidated\n        this._checkDisjoint();\n\n        // resolve previous frame timings\n        if (this._frames.length > 0) {\n            if (this._resolveFrameTimings(this._frames[0], this._prevTimings)) {\n                // swap\n                var tmp = this._prevTimings;\n                this._prevTimings = this._timings;\n                this._timings = tmp;\n\n                // free\n                this._freeQueries = this._freeQueries.concat(this._frames.splice(0, 1)[0]);\n            }\n        }\n\n        this.mark(name);\n    }\n\n    // mark\n    mark(name) {\n        if (!this.enabled) {\n            return;\n        }\n\n        // end previous query\n        if (this._frameQueries.length > 0) {\n            this._gl.endQuery(this._ext.TIME_ELAPSED_EXT);\n        }\n\n        // allocate new query and begin\n        var query = this._allocateQuery();\n        query[0] = name;\n        this._gl.beginQuery(this._ext.TIME_ELAPSED_EXT, query[1]);\n        this._frameQueries.push(query);\n    }\n\n    // end of frame\n    end() {\n        if (!this.enabled) {\n            return;\n        }\n\n        this._gl.endQuery(this._ext.TIME_ELAPSED_EXT);\n        this._frames.push(this._frameQueries);\n        this._frameQueries = [];\n    }\n\n    // check if the gpu has been interrupted thereby invalidating all\n    // in-flight queries\n    _checkDisjoint() {\n        var disjoint = this._gl.getParameter(this._ext.GPU_DISJOINT_EXT);\n        if (disjoint) {\n            // return all queries to the free list\n            this._freeQueries = [this._frames, [this._frameQueries], [this._freeQueries]].flat(2);\n            this._frameQueries = [];\n            this._frames = [];\n        }\n    }\n\n    // either returns a previously free'd query or if there aren't any allocates a new one\n    _allocateQuery() {\n        return (this._freeQueries.length > 0) ?\n            this._freeQueries.splice(-1, 1)[0] : [\"\", this._gl.createQuery()];\n    }\n\n    // attempt to resolve one frame's worth of timings\n    _resolveFrameTimings(frame, timings) {\n        // wait for the last query in the frame to be available\n        if (!this._gl.getQueryParameter(frame[frame.length - 1][1], this._gl.QUERY_RESULT_AVAILABLE)) {\n            return false;\n        }\n\n        for (var i = 0; i < frame.length; ++i) {\n            timings[i] = [frame[i][0], this._gl.getQueryParameter(frame[i][1], this._gl.QUERY_RESULT) * 0.000001];\n        }\n\n        return true;\n    }\n\n    get timings() {\n        return this._timings.map(function (v) {\n            return v[1];\n        });\n    }\n}\n\nexport { GpuTimer };\n","// Realtime performance graph visual\nclass Graph {\n    constructor(name, app, watermark, textRefreshRate, timer) {\n        this.name = name;\n        this.device = app.graphicsDevice;\n        this.timer = timer;\n        this.watermark = watermark;\n        this.enabled = false;\n        this.textRefreshRate = textRefreshRate;\n\n        this.avgTotal = 0;\n        this.avgTimer = 0;\n        this.avgCount = 0;\n        this.timingText = \"\";\n\n        this.texture = null;\n        this.yOffset = 0;\n        this.cursor = 0;\n        this.sample = new Uint8ClampedArray(4);\n        this.sample.set([0, 0, 0, 255]);\n\n        app.on('frameupdate', this.update.bind(this));\n\n        this.counter = 0;\n    }\n\n    // called when context was lost, function releases all context related resources\n    loseContext() {\n        // if timer implements loseContext\n        if (this.timer && (typeof this.timer.loseContext === 'function')) {\n            this.timer.loseContext();\n        }\n    }\n\n    update(ms) {\n        var timings = this.timer.timings;\n\n        // calculate stacked total\n        var total = timings.reduce(function (a, v) {\n            return a + v;\n        }, 0);\n\n        // update averages\n        this.avgTotal += total;\n        this.avgTimer += ms;\n        this.avgCount++;\n\n        if (this.avgTimer > this.textRefreshRate) {\n            this.timingText = (this.avgTotal / this.avgCount).toFixed(this.timer.decimalPlaces);\n            this.avgTimer = 0;\n            this.avgTotal = 0;\n            this.avgCount = 0;\n        }\n\n        if (this.enabled) {\n            // update timings\n            var value = 0;\n            var range = 1.5 * this.watermark;\n            for (var i = 0; i < timings.length; ++i) {\n\n                // scale the value into the range\n                value += Math.floor(timings[i] / range * 255);\n                this.sample[i] = value;\n            }\n\n            // .a store watermark\n            this.sample[3] = this.watermark / range * 255;\n\n            // write latest sample to the texture\n            var gl = this.device.gl;\n            this.device.bindTexture(this.texture);\n            gl.texSubImage2D(gl.TEXTURE_2D,\n                             0,\n                             this.cursor,\n                             this.yOffset,\n                             1,\n                             1,\n                             gl.RGBA,\n                             gl.UNSIGNED_BYTE,\n                             this.sample);\n\n            // update cursor position\n            this.cursor++;\n            if (this.cursor === this.texture.width) {\n                this.cursor = 0;\n            }\n        }\n    }\n\n    render(render2d, x, y, w, h) {\n        render2d.quad(this.texture,\n                      x + w,\n                      y,\n                      -w,\n                      h,\n                      this.cursor,\n                      0.5 + this.yOffset,\n                      -w, 0,\n                      this.enabled);\n    }\n}\n\nexport { Graph };\n","import { CpuTimer } from './cpu-timer.js';\nimport { GpuTimer } from './gpu-timer.js';\nimport { StatsTimer } from './stats-timer.js';\nimport { Graph } from './graph.js';\nimport { WordAtlas } from './word-atlas.js';\nimport { Render2d } from './render2d.js';\n\n// MiniStats rendering of CPU and GPU timing information\nclass MiniStats {\n    constructor(app, options) {\n\n        var device = app.graphicsDevice;\n\n        // handle context lost\n        this._contextLostHandler = function (event) {\n            event.preventDefault();\n\n            if (this.graphs) {\n                for (var i = 0; i < this.graphs.length; i++) {\n                    this.graphs[i].loseContext();\n                }\n            }\n        }.bind(this);\n        device.canvas.addEventListener(\"webglcontextlost\", this._contextLostHandler, false);\n\n        options = options || MiniStats.getDefaultOptions();\n\n        // create graphs based on options\n        var graphs = this.initGraphs(app, device, options);\n\n        // extract words needed\n        var words = [\"\", \"ms\", \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \".\"];\n\n        // graph names\n        graphs.forEach(function (graph) {\n            words.push(graph.name);\n        });\n\n        // stats units\n        if (options.stats) {\n            options.stats.forEach(function (stat) {\n                if (stat.unitsName)\n                    words.push(stat.unitsName);\n            });\n        }\n\n        // remove duplicates\n        words = words.filter(function (item, index) {\n            return words.indexOf(item) >= index;\n        });\n\n        // create word atlas\n        var maxWidth = options.sizes.reduce(function (max, v) {\n            return v.width > max ? v.width : max;\n        }, 0);\n        var wordAtlasData = this.initWordAtlas(device, words, maxWidth, graphs.length);\n        var texture = wordAtlasData.texture;\n\n        // assign texture to graphs\n        graphs.forEach(function (graph, i) {\n            graph.texture = texture;\n            graph.yOffset = i;\n        });\n\n        this.sizes = options.sizes;\n        this._activeSizeIndex = options.startSizeIndex;\n\n        var self = this;\n\n        // create click region so we can resize\n        var div = document.createElement('div');\n        div.style.cssText = 'position:fixed;bottom:0;left:0;background:transparent;';\n        document.body.appendChild(div);\n\n        div.addEventListener('mouseenter', function (event) {\n            self.opacity = 1.0;\n        });\n\n        div.addEventListener('mouseleave', function (event) {\n            self.opacity = 0.5;\n        });\n\n        div.addEventListener('click', function (event) {\n            event.preventDefault();\n            if (self._enabled) {\n                self.activeSizeIndex = (self.activeSizeIndex + 1) % self.sizes.length;\n                self.resize(self.sizes[self.activeSizeIndex].width, self.sizes[self.activeSizeIndex].height, self.sizes[self.activeSizeIndex].graphs);\n            }\n        });\n\n        device.on(\"resizecanvas\", function () {\n            self.updateDiv();\n        });\n\n        app.on('postrender', function () {\n            if (self._enabled) {\n                self.render();\n            }\n        });\n\n        this.device = device;\n        this.texture = texture;\n        this.wordAtlas = wordAtlasData.atlas;\n        this.render2d = new Render2d(device, options.colors);\n        this.graphs = graphs;\n        this.div = div;\n\n        this.width = 0;\n        this.height = 0;\n        this.gspacing = 2;\n        this.clr = [1, 1, 1, 0.5];\n\n        this._enabled = true;\n\n        // initial resize\n        this.activeSizeIndex = this._activeSizeIndex;\n    }\n\n    static getDefaultOptions() {\n        return {\n\n            // sizes of area to render individual graphs in and spacing between indivudual graphs\n            sizes: [\n                { width: 100, height: 16, spacing: 0, graphs: false },\n                { width: 128, height: 32, spacing: 2, graphs: true },\n                { width: 256, height: 64, spacing: 2, graphs: true }\n            ],\n\n            // index into sizes array for initial setting\n            startSizeIndex: 0,\n\n            // refresh rate of text stats in ms\n            textRefreshRate: 500,\n\n            // colors used to render graphs\n            colors: {\n                graph0: new pc.Color(0.7, 0.2, 0.2, 1),\n                graph1: new pc.Color(0.2, 0.7, 0.2, 1),\n                graph2: new pc.Color(0.2, 0.2, 0.7, 1),\n                watermark: new pc.Color(0.4, 0.4, 0.2, 1),\n                background: new pc.Color(0, 0, 0, 1.0)\n            },\n\n            // cpu graph options\n            cpu: {\n                enabled: true,\n                watermark: 33\n            },\n\n            // gpu graph options\n            gpu: {\n                enabled: true,\n                watermark: 33\n            },\n\n            // array of options to render additional graphs based on stats collected into pc.Application.stats\n            stats: [\n                {\n                    // display name\n                    name: \"Frame\",\n\n                    // path to data inside pc.Application.stats\n                    stats: [\"frame.ms\"],\n\n                    // number of decimal places (defaults to none)\n                    decimalPlaces: 1,\n\n                    // units (defaults to \"\")\n                    unitsName: \"ms\",\n\n                    // watermark - shown as a line on the graph, useful for displaying a budget\n                    watermark: 33\n                },\n\n                // total number of draw calls\n                {\n                    name: \"DrawCalls\",\n                    stats: [\"drawCalls.total\"],\n                    watermark: 1000\n                }\n            ]\n        };\n    }\n\n    get activeSizeIndex() {\n        return this._activeSizeIndex;\n    }\n\n    set activeSizeIndex(value) {\n        this._activeSizeIndex = value;\n        this.gspacing = this.sizes[value].spacing;\n        this.resize(this.sizes[value].width, this.sizes[value].height, this.sizes[value].graphs);\n    }\n\n    get opacity() {\n        return this.clr[3];\n    }\n\n    set opacity(value) {\n        this.clr[3] = value;\n    }\n\n    get overallHeight() {\n        var graphs = this.graphs;\n        var spacing = this.gspacing;\n        return this.height * graphs.length + spacing * (graphs.length - 1);\n    }\n\n    get enabled() {\n        return this._enabled;\n    }\n\n    set enabled(value) {\n        if (value !== this._enabled) {\n            this._enabled = value;\n            for (var i = 0; i < this.graphs.length; ++i) {\n                this.graphs[i].enabled = value;\n                this.graphs[i].timer.enabled = value;\n            }\n        }\n    }\n\n    initWordAtlas(device, words, maxWidth, numGraphs) {\n\n        // create the texture for storing word atlas and graph data\n        var texture = new pc.Texture(device, {\n            name: 'mini-stats',\n            width: pc.math.nextPowerOfTwo(maxWidth),\n            height: 64,\n            mipmaps: false,\n            minFilter: pc.FILTER_NEAREST,\n            magFilter: pc.FILTER_NEAREST\n        });\n\n        var wordAtlas = new WordAtlas(texture, words);\n\n        var dest = texture.lock();\n        for (var i = 0; i < texture.width * numGraphs; ++i) {\n            dest.set([0, 0, 0, 255], i * 4);\n        }\n        texture.unlock();\n\n        // ensure texture is uploaded\n        device.setTexture(texture, 0);\n\n        return { atlas: wordAtlas, texture: texture };\n    }\n\n    initGraphs(app, device, options) {\n\n        var graphs = [];\n        if (options.cpu.enabled) {\n            graphs.push(new Graph('CPU', app, options.cpu.watermark, options.textRefreshRate, new CpuTimer(app)));\n        }\n\n        if (options.gpu.enabled && device.extDisjointTimerQuery) {\n            graphs.push(new Graph('GPU', app, options.gpu.watermark, options.textRefreshRate, new GpuTimer(app)));\n        }\n\n        if (options.stats) {\n            options.stats.forEach(function (entry) {\n                graphs.push(new Graph(entry.name, app, entry.watermark, options.textRefreshRate, new StatsTimer(app, entry.stats, entry.decimalPlaces, entry.unitsName, entry.multiplier)));\n            });\n        }\n\n        return graphs;\n    }\n\n    render() {\n        var graphs = this.graphs;\n        var wordAtlas = this.wordAtlas;\n        var render2d = this.render2d;\n        var width = this.width;\n        var height = this.height;\n        var gspacing = this.gspacing;\n\n        var i, j, x, y, graph;\n\n        for (i = 0; i < graphs.length; ++i) {\n            graph = graphs[i];\n\n            y = i * (height + gspacing);\n\n            // render the graph\n            graph.render(render2d, 0, y, width, height);\n\n            // render the text\n            x = 1;\n            y += height - 13;\n\n            // name + space\n            x += wordAtlas.render(render2d, graph.name, x, y) + 10;\n\n            // timing\n            var timingText = graph.timingText;\n            for (j = 0; j < timingText.length; ++j) {\n                x += wordAtlas.render(render2d, timingText[j], x, y);\n            }\n\n            // units\n            if (graph.timer.unitsName) {\n                x += 3;\n                wordAtlas.render(render2d, graph.timer.unitsName, x, y);\n            }\n        }\n\n        render2d.render(this.clr, height);\n    }\n\n    resize(width, height, showGraphs) {\n        var graphs = this.graphs;\n        for (var i = 0; i < graphs.length; ++i) {\n            graphs[i].enabled = showGraphs;\n        }\n\n        this.width = width;\n        this.height = height;\n\n        this.updateDiv();\n    }\n\n    updateDiv() {\n        var rect = this.device.canvas.getBoundingClientRect();\n        this.div.style.left = rect.left + \"px\";\n        this.div.style.bottom = (window.innerHeight - rect.bottom) + \"px\";\n        this.div.style.width = this.width + \"px\";\n        this.div.style.height = this.overallHeight + \"px\";\n    }\n}\n\nexport { MiniStats };\n","// render 2d textured quads\nclass Render2d {\n    constructor(device, colors, maxQuads = 512) {\n        var vertexShader =\n            'attribute vec3 vertex_position;\\n' +       // unnormalized\n            'attribute vec4 vertex_texCoord0;\\n' +      // unnormalized texture space uv, normalized uv\n            'uniform vec4 screenAndTextureSize;\\n' +    // xy: screen size, zw: texture size\n            'varying vec4 uv0;\\n' +\n            'varying float enabled;\\n' +\n            'void main(void) {\\n' +\n            '    vec2 pos = vertex_position.xy / screenAndTextureSize.xy;\\n' +\n            '    gl_Position = vec4(pos * 2.0 - 1.0, 0.5, 1.0);\\n' +\n            '    uv0 = vec4(vertex_texCoord0.xy / screenAndTextureSize.zw, vertex_texCoord0.zw);\\n' +\n            '    enabled = vertex_position.z;\\n' +\n            '}\\n';\n\n        // this fragment shader renders the bits required for text and graphs. The text is identified\n        // in the texture by white color. The graph data is specified as a single row of pixels\n        // where the R channel denotes the height of the 1st graph and the G channel the height\n        // of the second graph and B channel the height of the last graph\n        var fragmentShader =\n            'varying vec4 uv0;\\n' +\n            'varying float enabled;\\n' +\n            'uniform vec4 clr;\\n' +\n            'uniform vec4 col0;\\n' +\n            'uniform vec4 col1;\\n' +\n            'uniform vec4 col2;\\n' +\n            'uniform vec4 watermark;\\n' +\n            'uniform float watermarkSize;\\n' +\n            'uniform vec4 background;\\n' +\n            'uniform sampler2D source;\\n' +\n            'void main (void) {\\n' +\n            '    vec4 tex = texture2D(source, uv0.xy);\\n' +\n            '    if (!(tex.rgb == vec3(1.0, 1.0, 1.0))) {\\n' +  // pure white is text\n            '       if (enabled < 0.5)\\n' +\n            '           tex = background;\\n' +\n            '       else if (abs(uv0.w - tex.a) < watermarkSize)\\n' +\n            '           tex = watermark;\\n' +\n            '       else if (uv0.w < tex.r)\\n' +\n            '           tex = col0;\\n' +\n            '       else if (uv0.w < tex.g)\\n' +\n            '           tex = col1;\\n' +\n            '       else if (uv0.w < tex.b)\\n' +\n            '           tex = col2;\\n' +\n            '       else\\n' +\n            '           tex = background;\\n' +\n            '    }\\n' +\n            '    gl_FragColor = tex * clr;\\n' +\n            '}\\n';\n\n        var format = new pc.VertexFormat(device, [{\n            semantic: pc.SEMANTIC_POSITION,\n            components: 3,\n            type: pc.TYPE_FLOAT32\n        }, {\n            semantic: pc.SEMANTIC_TEXCOORD0,\n            components: 4,\n            type: pc.TYPE_FLOAT32\n        }]);\n\n        // generate quad indices\n        var indices = new Uint16Array(maxQuads * 6);\n        for (var i = 0; i < maxQuads; ++i) {\n            indices[i * 6 + 0] = i * 4;\n            indices[i * 6 + 1] = i * 4 + 1;\n            indices[i * 6 + 2] = i * 4 + 2;\n            indices[i * 6 + 3] = i * 4;\n            indices[i * 6 + 4] = i * 4 + 2;\n            indices[i * 6 + 5] = i * 4 + 3;\n        }\n\n        this.device = device;\n        this.shader = pc.shaderChunks.createShaderFromCode(device,\n                                                           vertexShader,\n                                                           fragmentShader,\n                                                           \"mini-stats\");\n        this.buffer = new pc.VertexBuffer(device, format, maxQuads * 4, pc.BUFFER_STREAM);\n        this.data = new Float32Array(this.buffer.numBytes / 4);\n\n        this.indexBuffer = new pc.IndexBuffer(device, pc.INDEXFORMAT_UINT16, maxQuads * 6, pc.BUFFER_STATIC, indices);\n\n        this.prims = [];\n        this.prim = null;\n        this.primIndex = -1;\n        this.quads = 0;\n\n        // colors\n        var setupColor = function (name, value) {\n            this[name] = new Float32Array([value.r, value.g, value.b, value.a]);\n            this[name + \"Id\"] = device.scope.resolve(name);\n        }.bind(this);\n        setupColor(\"col0\", colors.graph0);\n        setupColor(\"col1\", colors.graph1);\n        setupColor(\"col2\", colors.graph2);\n        setupColor(\"watermark\", colors.watermark);\n        setupColor(\"background\", colors.background);\n\n        this.watermarkSizeId = device.scope.resolve('watermarkSize');\n        this.clrId = device.scope.resolve('clr');\n        this.clr = new Float32Array(4);\n\n        this.screenTextureSizeId = device.scope.resolve('screenAndTextureSize');\n        this.screenTextureSize = new Float32Array(4);\n    }\n\n    quad(texture, x, y, w, h, u, v, uw, uh, enabled) {\n        var quad = this.quads++;\n\n        // update primitive\n        var prim = this.prim;\n        if (prim && prim.texture === texture) {\n            prim.count += 6;\n        } else {\n            this.primIndex++;\n            if (this.primIndex === this.prims.length) {\n                prim = {\n                    type: pc.PRIMITIVE_TRIANGLES,\n                    indexed: true,\n                    base: quad * 6,\n                    count: 6,\n                    texture: texture\n                };\n                this.prims.push(prim);\n            } else {\n                prim = this.prims[this.primIndex];\n                prim.base = quad * 6;\n                prim.count = 6;\n                prim.texture = texture;\n            }\n            this.prim = prim;\n        }\n\n        var x1 = x + w;\n        var y1 = y + h;\n        var u1 = u + (uw === undefined ? w : uw);\n        var v1 = v + (uh === undefined ? h : uh);\n\n        var colorize = enabled ? 1 : 0;\n        this.data.set([\n            x,  y,  colorize, u,  v,  0, 0,\n            x1, y,  colorize, u1, v,  1, 0,\n            x1, y1, colorize, u1, v1, 1, 1,\n            x,  y1, colorize, u,  v1, 0, 1\n        ], 4 * 7 * quad);\n    }\n\n    render(clr, height) {\n        var device = this.device;\n        var buffer = this.buffer;\n\n        // set vertex data (swap storage)\n        buffer.setData(this.data.buffer);\n\n        device.updateBegin();\n        device.setDepthTest(false);\n        device.setDepthWrite(false);\n        device.setCullMode(pc.CULLFACE_NONE);\n        device.setBlending(true);\n        device.setBlendFunctionSeparate(pc.BLENDMODE_SRC_ALPHA,\n                                        pc.BLENDMODE_ONE_MINUS_SRC_ALPHA,\n                                        pc.BLENDMODE_ONE,\n                                        pc.BLENDMODE_ONE);\n        device.setBlendEquationSeparate(pc.BLENDEQUATION_ADD, pc.BLENDEQUATION_ADD);\n        device.setVertexBuffer(buffer, 0);\n        device.setIndexBuffer(this.indexBuffer);\n        device.setShader(this.shader);\n\n        var pr = Math.min(device.maxPixelRatio, window.devicePixelRatio);\n\n        // set shader uniforms\n        this.clr.set(clr, 0);\n        this.clrId.setValue(this.clr);\n        this.screenTextureSize[0] = device.width / pr;\n        this.screenTextureSize[1] = device.height / pr;\n\n        // colors\n        this.col0Id.setValue(this.col0);\n        this.col1Id.setValue(this.col1);\n        this.col2Id.setValue(this.col2);\n        this.watermarkId.setValue(this.watermark);\n        this.backgroundId.setValue(this.background);\n\n        for (var i = 0; i <= this.primIndex; ++i) {\n            var prim = this.prims[i];\n            this.screenTextureSize[2] = prim.texture.width;\n            this.screenTextureSize[3] = prim.texture.height;\n            this.screenTextureSizeId.setValue(this.screenTextureSize);\n            device.constantTexSource.setValue(prim.texture);\n            this.watermarkSizeId.setValue(0.5 / height);\n            device.draw(prim);\n        }\n\n        device.updateEnd();\n\n        // reset\n        this.prim = null;\n        this.primIndex = -1;\n        this.quads = 0;\n    }\n}\n\nexport { Render2d };\n","// Stats timer interface for graph\nclass StatsTimer {\n    constructor(app, statNames, decimalPlaces, unitsName, multiplier) {\n        this.app = app;\n        this.values = [];\n\n        // supporting up to 3 stats\n        this.statNames = statNames;\n        if (this.statNames.length > 3)\n            this.statNames.length = 3;\n\n        this.unitsName = unitsName;\n        this.decimalPlaces = decimalPlaces;\n        this.multiplier = multiplier || 1;\n\n        var self = this;\n\n        // recursively look up properties of objects specified in a string\n        function resolve(path, obj) {\n            return path.split('.').reduce(function (prev, curr) {\n                return prev ? prev[curr] : null;\n            }, obj || self);\n        }\n\n        app.on('frameupdate', function (ms) {\n            for (var i = 0; i < self.statNames.length; i++) {\n\n                // read specified stat from app.stats object\n                self.values[i] = resolve(self.statNames[i], self.app.stats) * self.multiplier;\n            }\n        });\n    }\n\n    get timings() {\n        return this.values;\n    }\n}\n\nexport { StatsTimer };\n","// Word atlas\nclass WordAtlas {\n    constructor(texture, words) {\n        var canvas = document.createElement('canvas');\n        canvas.width = texture.width;\n        canvas.height = texture.height;\n\n        // configure the context\n        var context = canvas.getContext('2d', { alpha: true });\n        context.font = '10px \"Lucida Console\", Monaco, monospace';\n        context.textAlign = \"left\";\n        context.textBaseline = \"alphabetic\";\n        context.fillStyle = \"rgb(255, 255, 255)\";\n\n        var padding = 5;\n        var x = padding;\n        var y = padding;\n        var placements = [];\n        var i;\n\n        for (i = 0; i < words.length; ++i) {\n            // measure the word\n            var measurement = context.measureText(words[i]);\n\n            var l = Math.ceil(-measurement.actualBoundingBoxLeft);\n            var r = Math.ceil(measurement.actualBoundingBoxRight);\n            var a = Math.ceil(measurement.actualBoundingBoxAscent);\n            var d = Math.ceil(measurement.actualBoundingBoxDescent);\n\n            var w = l + r;\n            var h = a + d;\n\n            // wrap text\n            if (x + w >= canvas.width) {\n                x = padding;\n                y += 16;\n            }\n\n            // digits and '.' are white, the rest grey\n            context.fillStyle = words[i].length === 1 ? \"rgb(255, 255, 255)\" : \"rgb(150, 150, 150)\";\n\n            // render the word\n            context.fillText(words[i], x - l, y + a);\n\n            placements.push({\n                l: l,\n                r: r,\n                a: a,\n                d: d,\n                x: x,\n                y: y,\n                w: w,\n                h: h\n            });\n\n            x += w + padding;\n        }\n\n        var wordMap = { };\n        words.forEach(function (w, i) {\n            wordMap[w] = i;\n        });\n\n        this.words = words;\n        this.wordMap = wordMap;\n        this.placements = placements;\n        this.texture = texture;\n\n        // copy pixel data to target\n        var source = context.getImageData(0, 0, canvas.width, canvas.height);\n        var dest = texture.lock();\n        var red, alpha;\n        for (y = 0; y < source.height; ++y) {\n            for (x = 0; x < source.width; ++x) {\n                var offset = (x + y * texture.width) * 4;\n\n                // set .rgb white to allow shader to identify text\n                dest[offset] = 255;\n                dest[offset + 1] = 255;\n                dest[offset + 2] = 255;\n\n                // red red and alpha from image\n                red = source.data[(x + (source.height - 1 - y) * source.width) * 4];\n                alpha = source.data[(x + (source.height - 1 - y) * source.width) * 4 + 3];\n\n                // alpha contains greyscale letters, use red to make non-digits darker\n                dest[offset + 3] = alpha * (red > 150 ? 1 : 0.7);\n            }\n        }\n    }\n\n    render(render2d, word, x, y) {\n        var p = this.placements[this.wordMap[word]];\n        if (p) {\n            var padding = 1;\n            render2d.quad(this.texture,\n                          x + p.l - padding,\n                          y - p.d + padding,\n                          p.w + padding * 2,\n                          p.h + padding * 2,\n                          p.x - padding,\n                          64 - p.y - p.h - padding,\n                          undefined, undefined,\n                          true);\n            return p.w;\n        }\n        return 0;\n    }\n}\n\nexport { WordAtlas };\n"],"sourceRoot":""}